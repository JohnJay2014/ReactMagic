<!DOCTYPE html>
<html lang="en" class="app">

<head>
  <meta charset="utf-8" />
  <title>Sage | Web Application</title>
  <meta name="description" content="app, web app, responsive, admin dashboard, admin, flat, flat ui, ui kit, off screen nav" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <link rel="stylesheet" href="js/jPlayer/jplayer.flat.css" type="text/css" />
  <link rel="stylesheet" href="css/bootstrap.css" type="text/css" />
  <link rel="stylesheet" href="css/animate.css" type="text/css" />
  <link rel="stylesheet" href="css/font-awesome.min.css" type="text/css" />
  <link rel="stylesheet" href="css/simple-line-icons.css" type="text/css" />
  <link rel="stylesheet" href="css/font.css" type="text/css" />
  <link rel="stylesheet" href="css/app.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="js/ie/html5shiv.js"></script>
    <script src="js/ie/respond.min.js"></script>
    <script src="js/ie/excanvas.js"></script>
  <![endif]-->
</head>

<body class="">
  <section class="vbox">
    <header class="bg-white-only header header-md navbar navbar-fixed-top-xs">
      <div class="navbar-header aside bg-info nav-xs">
        <a class="btn btn-link visible-xs" data-toggle="class:nav-off-screen,open" data-target="#nav,html">
          <i class="icon-list"></i>
        </a>
        <a class="navbar-brand text-lt">
          <i class="icon-earphones"></i>
          <img src="images/logo.png" alt="." class="hide">
          <span class="hidden-nav-xs m-l-sm">Con</span>
        </a>
        <a class="btn btn-link visible-xs" data-toggle="dropdown" data-target=".user">
          <i class="icon-settings"></i>
        </a>
      </div>
      <ul class="nav navbar-nav hidden-xs">
        <li>
          <a href="#nav,.navbar-header" data-toggle="class:nav-xs,nav-xs" class="text-muted">
            <i class="fa fa-indent text"></i>
            <i class="fa fa-dedent text-active"></i>
          </a>
        </li>
      </ul>
      <form id="search_top" class="navbar-form navbar-left input-s-lg m-t m-l-n-xs hidden-xs" role="search">
        <div class="form-group">
          <div class="input-group">
            <span class="input-group-btn">
              <button type="submit" class="btn btn-sm bg-white btn-icon rounded"><i class="fa fa-search"></i></button>
            </span>
            <input type="text" class="form-control input-sm no-border rounded" placeholder="Search dialogue...">
          </div>
        </div>
      </form>
      <div class="navbar-right ">
        <ul class="nav navbar-nav m-n hidden-xs nav-user user">
          <li class="hidden-xs">
            <a href="#" class="dropdown-toggle lt" data-toggle="dropdown">
              <i class="icon-bell"></i>
              <span class="badge badge-sm up bg-danger count">2</span>
            </a>
            <section class="dropdown-menu aside-xl animated fadeInUp">
              <section class="panel bg-white">
                <div class="panel-heading b-light bg-light">
                  <strong>You have <span class="count">2</span> notifications</strong>
                </div>
                <div class="list-group list-group-alt">
                  <a href="#" class="media list-group-item">
                    <span class="pull-left thumb-sm">
                      <img src="images/a0.jpg" alt="..." class="img-circle">
                    </span>
                    <span class="media-body block m-b-none">
                      Use awesome animate.css<br>
                      <small class="text-muted">10 minutes ago</small>
                    </span>
                  </a>
                  <a href="#" class="media list-group-item">
                    <span class="media-body block m-b-none">
                      1.0 initial released<br>
                      <small class="text-muted">1 hour ago</small>
                    </span>
                  </a>
                </div>
                <div class="panel-footer text-sm">
                  <a href="#" class="pull-right"><i class="fa fa-cog"></i></a>
                  <a href="#notes" data-toggle="class:show animated fadeInRight">See all the notifications</a>
                </div>
              </section>
            </section>
          </li>
          <li class="dropdown">
            <a href="#" class="dropdown-toggle bg clear" data-toggle="dropdown">
              <span class="thumb-sm avatar pull-right m-t-n-sm m-b-n-sm m-l-sm">
                <img src="images/a0.jpg" alt="...">
              </span>
              John.Smith <b class="caret"></b>
            </a>
            <ul class="dropdown-menu animated fadeInRight">
              <li>
                <span class="arrow top"></span>
                <a href="#">Settings</a>
              </li>
              <li>
                <a href="profile.html">Profile</a>
              </li>
              <li>
                <a href="#">
                  <span class="badge bg-danger pull-right">3</span>
                  Notifications
                </a>
              </li>
              <li>
                <a href="docs.html">Help</a>
              </li>
              <li class="divider"></li>
              <li>
                <a href="modal.lockme.html" data-toggle="ajaxModal">Logout</a>
              </li>
            </ul>
          </li>
        </ul>
      </div>
    </header>
    <section>
      <section class="hbox stretch">
        <!-- .aside -->
        <aside class="bg-black dk nav-xs aside hidden-print" id="nav">
          <section class="vbox">
            <section class="w-f-md scrollable">
              <div id="list" class="slim-scroll" data-height="auto" data-disable-fade-out="true" data-distance="0"
                data-size="10px" data-railOpacity="0.2">
                <!-- nav -->
                <!-- / nav -->
              </div>
            </section>
            <footer class="footer hidden-xs no-padder text-center-nav-xs">
              <div class="bg hidden-xs ">
                <div class="dropdown dropup wrapper-sm clearfix">
                  <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                    <span class="thumb-sm avatar pull-left m-l-xs">
                      <img src="images/a3.jpg" class="dker" alt="...">
                      <i class="on b-black"></i>
                    </span>
                    <span class="hidden-nav-xs clear">
                      <span class="block m-l">
                        <strong class="font-bold text-lt">John.Smith</strong>
                        <b class="caret"></b>
                      </span>
                      <span class="text-muted text-xs block m-l">Art Director</span>
                    </span>
                  </a>
                  <ul class="dropdown-menu animated fadeInRight aside text-left">
                    <li>
                      <span class="arrow bottom hidden-nav-xs"></span>
                      <a href="#">Settings</a>
                    </li>
                    <li>
                      <a href="profile.html">Profile</a>
                    </li>
                    <li>
                      <a href="#">
                        <span class="badge bg-danger pull-right">3</span>
                        Notifications
                      </a>
                    </li>
                    <li>
                      <a href="docs.html">Help</a>
                    </li>
                    <li class="divider"></li>
                    <li>
                      <a href="modal.lockme.html" data-toggle="ajaxModal">Logout</a>
                    </li>
                  </ul>
                </div>
              </div>
            </footer>
          </section>
        </aside>
        <!-- /.aside -->
        <section id="content">
          <section class="hbox stretch">
            <section>
              <section class="vbox">
                <section class="scrollable padder-lg w-f-md" id="bjax-target">
                  <a href="#" class="pull-right text-muted m-t-lg" data-toggle="class:fa-spin"><i class="icon-refresh i-lg  inline"
                      id="refresh"></i></a>
                  <h2 class="font-thin m-b">Discover <span class="musicbar animate inline m-l-sm" style="width:20px;height:20px">
                      <span class="bar1 a1 bg-primary lter"></span>
                      <span class="bar2 a2 bg-info lt"></span>
                      <span class="bar3 a3 bg-success"></span>
                      <span class="bar4 a4 bg-warning dk"></span>
                      <span class="bar5 a5 bg-danger dker"></span>
                    </span></h2>
                  <div id="root"></div>
                </section>
                <footer class="footer bg-dark">
                  <form class="" role="search">
                    <div class="form-group clearfix m-b-none">
                      <div class="input-group m-t m-b">
                        <span class="input-group-btn">
                          <button type="submit" class="btn btn-sm bg-empty text-muted btn-icon"><i class="fa fa-search"></i></button>
                        </span>
                        <input type="text" class="form-control input-sm text-white bg-empty b-b b-dark no-border"
                          placeholder="Search dalogue">
                      </div>
                    </div>
                  </form>
                </footer>
              </section>
            </section>

            <!-- side content -->

            <!-- / side content -->
          </section>
          <a href="#" class="hide nav-off-screen-block" data-toggle="class:nav-off-screen,open" data-target="#nav,html"></a>
        </section>
      </section>
    </section>
  </section>
  <script src="js/jquery.min.js"></script>
  <!-- Bootstrap -->
  <script src="js/bootstrap.js"></script>
  <!-- App -->
  <script src="js/app.js"></script>
  <script src="js/slimscroll/jquery.slimscroll.min.js"></script>
  <script src="js/app.plugin.js"></script>
  <script type="text/javascript" src="js/jPlayer/jquery.jplayer.min.js"></script>
  <script type="text/javascript" src="js/jPlayer/add-on/jplayer.playlist.min.js"></script>
  <script type="text/javascript" src="js/jPlayer/demo.js"></script>
  <script>
    $("#search_top").submit(
      function search(oEvent) {
        var str = oEvent.currentTarget.elements[1].value;
        fireKeyEvent();
        //select(str);
        //txt.scrollIntoView();
        //window.find(oEvent.currentTarget.elements[1].value, true, false, false, true, false, true);
        return false;
      }

    );
    document.addEventListener("keydown", function (Events) {
      console.log(Events.keyCode);
    })
    function select(selWord) {
      if (selWord != null) {
        if (!!window.ActiveXObject || "ActiveXObject" in window) {
          var word = document.body.createTextRange();
          /*
          if (word.findText(selWord)) {
            while (word.findText(selWord)) {
              word.pasteHTML("<span style='color:Red'>" + word.text + "</span>");
              //需要清理上次变红
            }
          }*/
          word.findText(selWord);
          word.select();
          //只会选中第一个
        } else {
          var word = window.getSelection();
          word.collapse(document.body, 0);
          //focus, input的setSelectionRange
          /*
          while (window.find(selWord)) {
            htm = document.createElement('span');
            htm.style.color = "ff0000";
            word.getRangeAt(0).surroundContents(htm);
          }
          */
        }
      }
    }

    function fireKeyEvent() {
      //事件中keycode总是零
      //evt.initKeyBoardEvent("keydown", false, false, window, "U+0070", 0, true, false, false, false, false);
      //evt.initEvent("keydown", true, true); 这个方法已经废弃
      var evt = new Event('keydown', {});
      evt.keyCode = 70;
      evt.which = 70;
      evt.isTrusted = true; //只读修改无效
      evt.ctrlKey = true;
      document.dispatchEvent(evt);
      /*
      var evt = jQuery.Event("keydown", { keyCode: 70, ctrlKey: true })
      jQuery("body").trigger(evt);
      */
      /*
      //注意, 手动触发事件不会生成与该事件关联的默认操作
      const evt = new KeyboardEvent("keydown", {
        keyCode: 70,
        ctrlKey: true,
        //isTrusted: true
      })
      document.dispatchEvent(evt);
      */
    }

  </script>

</body>

</html>